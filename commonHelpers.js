var m=(r,e,s)=>{if(!e.has(r))throw TypeError("Cannot "+s)};var h=(r,e,s)=>(m(r,e,"read from private field"),s?s.call(r):e.get(r)),c=(r,e,s)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,s)},y=(r,e,s,n)=>(m(r,e,"write to private field"),n?n.call(r,s):e.set(r,s),s);var f=(r,e,s)=>(m(r,e,"access private method"),s);import{S as L,i as g}from"./assets/vendor-5b791d57.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}})();const F="/goit-js-hw-11/assets/rejectedIcon-9956cb73.svg",O="/goit-js-hw-11/assets/izitoast-close-4cebbc46.svg";class S{constructor(e=""){this.parent=e}add(){document.querySelector(this.parent).innerHTML='<div id="spinner-container" style="padding-top: 25px; display:flex; flex-direction:column; gap:15px; align-items:center;"><span class="js-processing-request">Loading images, please wait...</span><span class="loader"></span></div>'}remove(){document.querySelector(this.parent).innerHTML=""}}var i,p,b,u,v;class l{constructor(e=[],s=[""],n=""){c(this,p);c(this,u);c(this,i,void 0);this.parent=n,this.rawData=e,this.cleanData=f(this,p,b).call(this,s),y(this,i,f(this,u,v).call(this))}static testInput(e){return e.trim()?/^[a-z\s]+$/gi.test(e.trim()):!1}static showPopup(e){const s={class:"js-izitoast-message",titleColor:"#FFFFFF",messageColor:"#FFFFFF",message:e==="wrong input"?'Try something like "kitty", "best friends", "on the Moon" ;)':"Sorry, there are no images matching your search query. Please try again!",backgroundColor:e==="wrong input"?"#e0c34c":"#ef4040",progressBarColor:e==="wrong input"?"#f7e28b":"#b51b1b",messageSize:"16px",position:"topRight",displayMode:"replace",pauseOnHover:!1,iconUrl:F,close:!1,buttons:[[`<button type="button" style="background-color: transparent;"><img src=${O}></button>`,function(n,t){n.hide({transitionOut:"fadeOut"},t)}]],onOpening:function(n,t){o.container.innerHTML="",o.input.blur(),o.input.addEventListener("focus",()=>{g.hide({transitionOut:"fadeOut"},t)},{once:!0})},onClosed:function(n,t){o.input.removeEventListener("focus",()=>{g.hide({transitionOut:"fadeOut"},t)},{once:!0})}};g.show(s)}renderGallery(){document.querySelector(this.parent).innerHTML=h(this,i),console.log(this)}}i=new WeakMap,p=new WeakSet,b=function(e){return this.rawData.map(s=>{const n={};return e.forEach(t=>{n[t]=s[t]}),n})},u=new WeakSet,v=function(){return this.cleanData.map(s=>`<li class="js-gallery-item">
        <a class="js-image-container" href="${s.largeImageURL}"><img class="js-item-image" src="${s.webformatURL}" alt="${s.tags}" /></a>
        <ul class="js-item-desc">
          <li class="js-desc-wrapper"><span class="js-desc-prop">Likes</span><span class="js-desc-value">${s.likes}</span></li>
          <li class="js-desc-wrapper"><span class="js-desc-prop">Views</span><span class="js-desc-value">${s.views}</span></li>
          <li class="js-desc-wrapper"><span class="js-desc-prop">Comments</span><span class="js-desc-value">${s.comments}</span></li>
          <li class="js-desc-wrapper"><span class="js-desc-prop">Downloads</span><span class="js-desc-value">${s.downloads}</span></li>
        </ul>
      </li>`).join(`

`)};const o={form:document.querySelector(".js-search-form"),input:document.querySelector(".js-search-input"),container:document.querySelector(".js-gallery")},q="https://pixabay.com/api/",w={key:"42242477-df8643eaa45736c853493b589",image_type:"photo",orientation:"horizontal",safesearch:!0,q:null},j=new S(".js-gallery");o.form.addEventListener("submit",r=>{if(r.preventDefault(),w.q=o.input.value.trim(),!l.testInput(o.input.value.trim())){o.form.classList.add("centered"),l.showPopup("wrong input"),o.form.reset();return}j.add(),fetch(`${q}?${new URLSearchParams(w)}`).then(e=>{if(!e.ok)throw new Error("Something went wrong!");return e.json()}).then(e=>{if(!e.hits.length){o.form.classList.add("centered"),l.showPopup("nothing found"),o.form.reset();return}o.form.classList.remove("centered");const s=new l(e.hits,["largeImageURL","webformatURL","tags","likes","views","comments","downloads"],".js-gallery"),n=new L(".js-gallery a",{className:"lightbox-wrapper"});j.remove(),s.renderGallery(),n.refresh(),o.form.reset()}).catch(e=>console.log(e))});
//# sourceMappingURL=commonHelpers.js.map
