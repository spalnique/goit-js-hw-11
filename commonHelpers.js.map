{"version":3,"file":"commonHelpers.js","sources":["../src/js/script.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction createMarkup(data) {\n  const markup = data\n    .map(\n      x => `<li class=\"js-gallery-item\">\n        <a class=\"js-image-container\" href=\"${x.largeImageURL}\"><img class=\"js-item-image\" src=\"${x.webformatURL}\" alt=\"${x.alt}\" /></a>\n        <ul class=\"js-item-desc\">\n          <li class=\"js-desc-wrapper\"><span class=\"js-desc-prop\">Likes</span><span class=\"js-desc-value\">${x.likes}</span></li>\n          <li class=\"js-desc-wrapper\"><span class=\"js-desc-prop\">Views</span><span class=\"js-desc-value\">${x.views}</span></li>\n          <li class=\"js-desc-wrapper\"><span class=\"js-desc-prop\">Comments</span><span class=\"js-desc-value\">${x.comments}</span></li>\n          <li class=\"js-desc-wrapper\"><span class=\"js-desc-prop\">Downloads</span><span class=\"js-desc-value\">${x.downloads}</span></li>\n        </ul>\n      </li>`\n    )\n    .join('\\n\\n');\n  return markup;\n}\n\nfunction renderGallery(markup) {\n  refs.container.innerHTML = markup;\n}\n\nfunction processingRequest() {\n  refs.container.innerHTML = 'Loading images, please wait...';\n}\n\n//////////////////////////////////////////////////////////////////////////////////////////\n\nconst refs = {\n  form: document.querySelector('.js-search-form'),\n  input: document.querySelector('.js-search-input'),\n  container: document.querySelector('.js-gallery'),\n};\n\nconst gallery = new SimpleLightbox('.js-gallery a', {\n  className: 'lightbox-wrapper',\n});\n\nconst requestUrl = 'https://pixabay.com/api/';\nconst requestParams = {\n  key: '42242477-df8643eaa45736c853493b589',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  q: null,\n};\n\nconst iziOptions = {\n  class: 'js-izitoast-message',\n  titleColor: '#FFFFFF',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  messageColor: '#FFFFFF',\n  messageSize: '16px',\n  position: 'topRight',\n  backgroundColor: '#EF4040',\n  progressBarColor: '#B51B1B',\n  // iconUrl: rejectedIcon,\n  close: false,\n  onOpening: () => {\n    refs.container.innerHTML = 'Please, try a different request';\n  },\n};\n\nrefs.form.addEventListener('submit', e => {\n  requestParams.q = refs.input.value;\n  e.preventDefault();\n  processingRequest();\n\n  fetch(`${requestUrl}?${new URLSearchParams(requestParams)}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Something went wrong!');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (!data.hits.length) {\n        iziToast.show(iziOptions);\n        return;\n      }\n      renderGallery(createMarkup(data.hits));\n      gallery.refresh();\n    })\n    .catch(error => console.log(error));\n  refs.form.reset();\n});\n"],"names":["createMarkup","data","x","renderGallery","markup","refs","processingRequest","gallery","SimpleLightbox","requestUrl","requestParams","iziOptions","e","response","iziToast","error"],"mappings":"6vBAKA,SAASA,EAAaC,EAAM,CAc1B,OAbeA,EACZ,IACCC,GAAK;AAAA,8CACmCA,EAAE,aAAa,qCAAqCA,EAAE,YAAY,UAAUA,EAAE,GAAG;AAAA;AAAA,2GAEpBA,EAAE,KAAK;AAAA,2GACPA,EAAE,KAAK;AAAA,8GACJA,EAAE,QAAQ;AAAA,+GACTA,EAAE,SAAS;AAAA;AAAA,YAGrH,EACA,KAAK;AAAA;AAAA,CAAM,CAEhB,CAEA,SAASC,EAAcC,EAAQ,CAC7BC,EAAK,UAAU,UAAYD,CAC7B,CAEA,SAASE,GAAoB,CAC3BD,EAAK,UAAU,UAAY,gCAC7B,CAIA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,iBAAiB,EAC9C,MAAO,SAAS,cAAc,kBAAkB,EAChD,UAAW,SAAS,cAAc,aAAa,CACjD,EAEME,EAAU,IAAIC,EAAe,gBAAiB,CAClD,UAAW,kBACb,CAAC,EAEKC,EAAa,2BACbC,EAAgB,CACpB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAG,IACL,EAEMC,EAAa,CACjB,MAAO,sBACP,WAAY,UACZ,QACE,2EACF,aAAc,UACd,YAAa,OACb,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAElB,MAAO,GACP,UAAW,IAAM,CACfN,EAAK,UAAU,UAAY,iCAC5B,CACH,EAEAA,EAAK,KAAK,iBAAiB,SAAUO,GAAK,CACxCF,EAAc,EAAIL,EAAK,MAAM,MAC7BO,EAAE,eAAc,EAChBN,IAEA,MAAM,GAAGG,CAAU,IAAI,IAAI,gBAAgBC,CAAa,CAAC,EAAE,EACxD,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuB,EAEzC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKZ,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBa,EAAS,KAAKH,CAAU,EACxB,MACD,CACDR,EAAcH,EAAaC,EAAK,IAAI,CAAC,EACrCM,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMQ,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCV,EAAK,KAAK,OACZ,CAAC"}